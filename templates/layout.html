{% extends 'index.html' %}

{% block site_links %}
    <a class="button" href="{{ url_for('login', _external=True) }}"><span>Login</span></a>
{% endblock %}

{% block main_content %}
	{% if current_user.is_authenticated %}
		{% set journal_count = journal_entries|length %}
		{% if journal_count > 0 %}
			<div class="entry-list">
				{% for entry in journal_entries %}
					<!-- <article>
						<h2></h2>
					</article>
			             <article>
	                        <h2><a href="detail.html">The best day I’ve ever had</a></h2>
	                        <time datetime="2016-01-31">January 31, 2016</time>
	                    </article>
	                    <article>
	                        <h2><a href="detail_2.html">The absolute worst day I’ve ever had</a></h2>
	                        <time datetime="2016-01-31">January 31, 2016</time>
	                    </article>
	                    <article>
	                        <h2><a href="detail_3.html">That time at the mall</a></h2>
	                        <time datetime="2016-01-31">January 31, 2016</time>
	                    </article>
	                    <article>
	                        <h2><a href="detail_4.html">Dude, where’s my car?</a></h2>
	                        <time datetime="2016-01-31">January 31, 2016</time>
	                    </article> -->
				{% endfor %}
			</div>
		{% else %}
			<p>
				Uhhh oohh! You haven't shared any journal entries yet! Click 
				"New Post" to contribute what you have learned about programming!
			</p>
		{% endif %}		
	{% else %}
		{% with messages = get_flashed_messages() %}
			{% for message in messages %}
				<p>{{ message }}</p>
			{% endfor %}
		{% endwith %}
		<section class="intro_content">
			<h1>Personal Learning Journal</h1>
			<h2>Expanding the minds of coders</h2>
			<div class="content_info">
				<p>
				Here is a place where coders of all levels are encouraged
				to share newly discovered topics or expand on familiar ones.
			</p>
			</div>
			<div class="content_info">
				<h3>How to use the site:</h3>
			<p>
				Pinpoint your journal entries to specific topics. This can be
				done by adding tags to your custom entry! If a topic needs to 
				to be revised due to any new language/framework releases please 
				edit any entries previously crafted by you.
			</p>
			</div>
			<div class="index_buttons">
				<a href="{{ url_for('login') }}" class="button">Login</a>
				<a href="{{ url_for('register') }}" class="button">Register</a>
			</div>
			
			
		</section>
	{% endif %}	
{% endblock %}